(this.webpackJsonpassessment=this.webpackJsonpassessment||[]).push([[0],{126:function(e,a,t){e.exports=t(157)},155:function(e,a,t){},156:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t.n(l),i=t(14),o={apiKey:"AIzaSyDSINGmBE3TuhB-k77SxKpzS1J6CgqpAaQ",authDomain:"assessment-app-3.firebaseapp.com",databaseURL:"https://assessment-app-3-default-rtdb.firebaseio.com",projectId:"assessment-app-3",storageBucket:"assessment-app-3.appspot.com",messagingSenderId:"96766123206",appId:"1:96766123206:web:1f1a0d5810da962c7ecbc7"},m=t(76),s=t.n(m),u=t(97),E=t(36),p=t(19),d=t(48),b=(t(86),t(207)),f=t(98),h=t.n(f),v=t(38),g=t(209),O=t(191),j=t(204),y=t(193),x=t(34),w=t.n(x),k=t(68),N=t.n(k),I=t(206),S=t(13);function C(e){var a=Object(n.useState)({nickname:"",email:"",password:"",photoUrl:"",error:!1}),t=Object(d.a)(a,2),l=t[0],c=t[1],o=function(e){var a;c(Object(p.a)(Object(p.a)({},l),{},(a={},Object(E.a)(a,e.target.name,e.target.value),Object(E.a)(a,"error",!1),a)))},m=e.classes,f=Object(i.i)(),x=Object(i.j)().collection("users");function k(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}console.log(window.location.hostname);var C=function(e){var a=!0;if(e){var t=e.split(".");a=!["png","jpg","jpeg","PNG","JPG","JPEG","GIF","gif"].find((function(e){return e===t[1]}))}return a};Object(n.useEffect)((function e(){h.a.get("https://random.dog/woof.json").then((function(a){for(;C(a.data.url);)e();l.photoUrl=a.data.url})).then((function(){}))}),[]);var W=function(){var e=Object(u.a)(s.a.mark((function e(a){var t,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,f.auth().createUserWithEmailAndPassword(l.email,l.password);case 4:return(t=e.sent).user.updateProfile({displayName:l.nickname,photoURL:l.photoUrl}),n=Object(b.a)(),i={url:window.location.hostname},e.next=10,t.user.sendEmailVerification(i);case 10:c(Object(p.a)(Object(p.a)({},l),{},{verifyEmail:"Welcome ".concat(l.nickname,". To continue please verify your email.")})),x.doc(n).set({uid:t.user.uid,displayName:t.user.displayName,email:t.user.email,photoURL:t.user.photoURL}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Error : ",e.t0),c(Object(p.a)(Object(p.a)({},l),{},{error:e.t0.message}));case 18:return e.abrupt("return",r.a.createElement(S.a,{to:"/verify"}));case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}(),P=function(e,a){"clickaway"!==a&&c(Object(p.a)(Object(p.a)({},l),{},{error:!1}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h3",color:"inherit"},"SIGN UP"),r.a.createElement("form",{onSubmit:W},r.a.createElement(g.a,{open:l.error,autoHideDuration:6e3,onClose:P},r.a.createElement(k,{onClose:P,severity:"error"},r.a.createElement("b",null,"WOOF!")," ",l.error)),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{onChange:o,name:"nickname",placeholder:"Nickname",label:"Nickname",variant:"outlined",size:"small",className:m.fullWidthInput,value:l.nickname})),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{onChange:o,name:"email",placeholder:"Email",label:"Email",variant:"outlined",size:"small",className:m.fullWidthInput,value:l.email})),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{onChange:o,name:"password",placeholder:"Password",label:"Password",variant:"outlined",size:"small",className:m.fullWidthInput,value:l.password,type:"password"})),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(w.a,null)," Sign Up")),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"overline",display:"block"},"Already have an account?")),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{href:"/login",variant:"contained"},r.a.createElement(N.a,null)," Login")))))}t(75);var W=function(e){var a=Object(i.i)(),t=Object(n.useState)({email:"",password:"",error:!1}),l=Object(d.a)(t,2),c=l[0],o=l[1],m=e.classes,s=function(e){var a;o(Object(p.a)(Object(p.a)({},c),{},(a={},Object(E.a)(a,e.target.name,e.target.value),Object(E.a)(a,"error",!1),a)))};function u(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var b=function(e,a){"clickaway"!==a&&o(Object(p.a)(Object(p.a)({},c),{},{error:!1}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h3",color:"inherit"},"LOG IN"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.auth().signInWithEmailAndPassword(c.email,c.password).then((function(e){return e.user.emailVerified||o(Object(p.a)(Object(p.a)({},c),{},{error:"Please verify your email before to continue"})),r.a.createElement(S.a,{to:"/"})})).catch((function(e){o(Object(p.a)(Object(p.a)({},c),{},{error:e.message}))}))}},r.a.createElement(g.a,{open:c.error,autoHideDuration:6e3,onClose:b},r.a.createElement(u,{onClose:b,severity:"error"},r.a.createElement("b",null,"WOOF!")," ",c.error)),r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{onChange:s,name:"email",placeholder:"Email",label:"Email",variant:"outlined",size:"small",className:m.fullWidthInput,value:c.email})),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(j.a,{onChange:s,name:"password",placeholder:"Password",label:"Password",variant:"outlined",size:"small",className:m.fullWidthInput,value:c.password,type:"password"})),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{type:"submit",variant:"contained",color:"primary"},r.a.createElement(N.a,null)," Login")),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"overline",display:"block"},"Don't have an account?")),r.a.createElement("hr",null),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(y.a,{href:"/signup",variant:"contained"},r.a.createElement(w.a,null)," Sign up")))))},P=t(190),A=t(102),U=t.n(A),D=function(){var e=Object(i.i)();return r.a.createElement(P.a,{"aria-label":"logout",color:"primary",onClick:function(){return e.auth().signOut(),r.a.createElement(S.a,{to:"login"})}},r.a.createElement(U.a,null))},F=t(103),L=t.n(F),z=t(199),B=t(200),G=t(210),R=t(201),T=t(194),J=t(192),M=t(195),H=t(198),V=t(197),Y=t(196),K=t(69),q=t.n(K),Q=t(104),X=t.n(Q),Z=Object(T.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),$=function(e){var a=Object(i.m)(),t=e.items,n=e.users,l=Z();return r.a.createElement(J.a,null,t.map((function(e,t){var c=0,i=function(e){return q.a.findLast(n,(function(a){return e.uid===a.uid}))}(e),o=X()(e.createdAt.toDate().toISOString()).format("MM/DD/YY hh:mm");return r.a.createElement("div",null,r.a.createElement(M.a,{alignItems:"flex-start",key:c++,button:!0,selected:a.uid===i.uid},r.a.createElement(Y.a,null,r.a.createElement(G.a,{alt:"Remy Sharp",src:i.photoURL})),r.a.createElement(V.a,{primary:e.message,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{component:"span",variant:"body2",className:l.inline,color:"textPrimary"},i.displayName)," - ",r.a.createElement("small",null,o))})),r.a.createElement(H.a,{variant:"inset",component:"li"}))})))};function _(e){var a=Object(i.m)(),t=Object(n.useState)(""),l=Object(d.a)(t,2),c=l[0],o=l[1],m=Object(i.j)(),s=m.collection("messages"),u=m.collection("users"),E=q.a.sortBy(Object(i.k)(s),"createdAt"),p=Object(i.k)(u),f=e.classes;Object(n.useEffect)((function(){h()}));var h=function(){var e=document.getElementById("chatBoxContainer");e.scrollTo(0,e.scrollHeight)};return r.a.createElement("div",{className:f.container},r.a.createElement(z.a,null,r.a.createElement(B.a,{avatar:r.a.createElement(G.a,{alt:a.displayName,src:a.photoURL}),action:r.a.createElement(D,null),title:"Welcome "+a.displayName,subheader:a.email}),r.a.createElement(R.a,{className:f.chatbox,id:"chatBoxContainer"},r.a.createElement($,{items:E,users:p}))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(c),""!==c&&(s.doc(Object(b.a)()).set({uid:a.uid,message:c,createdAt:L.a.firestore.Timestamp.now()}),o(""),h())}},r.a.createElement(O.a,{container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(O.a,{item:!0,xs:11},r.a.createElement(j.a,{onChange:function(e){return o(e.target.value)},name:"message",placeholder:"Enter Message",value:c,label:"Message",variant:"outlined",size:"small",className:f.fullWidthInput})),r.a.createElement(O.a,{item:!0,xs:1},r.a.createElement(P.a,{"aria-label":"delete",color:"primary",type:"submit"},r.a.createElement(w.a,null))))))}var ee=function(){var e=Object(i.m)();return r.a.createElement(r.a.Fragment,null,"Please Verify your Account, we sent an email to ",e.email,r.a.createElement(D,null))},ae=(t(155),t(56)),te=t(202),ne=t(203);function re(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{position:"static"},r.a.createElement(ne.a,{variant:"dense"},r.a.createElement(P.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(w.a,null)),r.a.createElement(v.a,{variant:"h6",color:"inherit"},"WOOF STATION"))),r.a.createElement("br",null))}var le=Object(T.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"},container:{maxWidth:"500px",margin:"0px auto"},chatbox:{maxHeight:"400px;",overflowY:"scroll"},fullWidthInput:{width:"100%"}}}));var ce=function(){var e=Object(i.m)(),a=le();return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:a.container},r.a.createElement(re,null),r.a.createElement(ae.a,null,r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/"},e?e.emailVerified?r.a.createElement(_,{classes:a}):r.a.createElement(S.a,{to:"/verify"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{to:"login"}))),r.a.createElement(S.b,{exact:!0,path:"/signup"},e?r.a.createElement(S.a,{to:"/"}):r.a.createElement(C,{classes:a})),r.a.createElement(S.b,{exact:!0,path:"/verify"},e?r.a.createElement(ee,{classes:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{to:"login"}))),r.a.createElement(S.b,{exact:!0,path:"/logout"},r.a.createElement(D,{classes:a})),r.a.createElement(S.b,{path:"/login"},e?r.a.createElement(S.a,{to:"/"}):r.a.createElement(W,{classes:a}))))))},ie=(t(156),t(205));c.a.render(r.a.createElement(i.a,{firebaseConfig:o},r.a.createElement(i.b,{fallback:r.a.createElement(ie.a,{textAlign:"center",pt:20},r.a.createElement(v.a,{variant:"subtitle1"},"Sniffing...",r.a.createElement("br",null),"Identifying hooman...",r.a.createElement("br",null),"Please wait..",r.a.createElement("br",null)))},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)))),document.getElementById("root"))},86:function(e,a,t){}},[[126,1,2]]]);
//# sourceMappingURL=main.4cb174e1.chunk.js.map