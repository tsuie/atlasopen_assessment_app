{"version":3,"sources":["config/firebaseConfig.js","components/nonauth/Signup.js","components/nonauth/Login.js","components/auth/Logout.js","components/auth/chat/Messagebox.js","components/auth/Chat.js","components/auth/Verify.js","components/templates/Headbar.js","App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Signup","prop","useState","nickname","email","password","photoUrl","error","user","setUser","handleChange","e","target","name","value","classes","firebase","useFirebaseApp","userCollection","useFirestore","collection","Alert","props","elevation","variant","console","log","window","location","hostname","validateDogImage","dogImage","ret","ext","split","find","element","useEffect","fetchDogImage","axios","get","then","res","data","url","handleSubmit","a","preventDefault","auth","createUserWithEmailAndPassword","userData","updateProfile","displayName","photoURL","uid","uuidv4","myURL","sendEmailVerification","verifyEmail","doc","set","message","to","handleClose","event","reason","Typography","color","onSubmit","Snackbar","open","autoHideDuration","onClose","severity","Grid","container","item","xs","TextField","onChange","placeholder","label","size","className","fullWidthInput","type","Button","display","href","Login","signInWithEmailAndPassword","result","emailVerified","catch","Logout","IconButton","aria-label","onClick","signOut","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","inline","Messagebox","currentUser","useUser","items","users","List","map","index","i","_","findLast","findUser","createdAt","moment","toDate","toISOString","format","ListItem","alignItems","key","button","selected","ListItemAvatar","Avatar","alt","src","ListItemText","primary","secondary","Fragment","component","Divider","Chat","mData","setMessageData","firestore","messagesCollection","usersCollection","messages","sortBy","useFirestoreCollectionData","scrollToBottom","chatbox","document","getElementById","scrollTo","scrollHeight","Card","CardHeader","avatar","action","title","subheader","CardContent","id","Timestamp","now","spacing","Verify","AppBar","position","Toolbar","edge","margin","maxHeight","overflowY","App","exact","path","ReactDOM","render","fallback","Box","textAlign","pt","StrictMode"],"mappings":"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","file":"static/js/main.4cb174e1.chunk.js","sourcesContent":["var firebaseConfig = {\n    //TODO Replace with own config file\n    // apiKey: \"AIzaSyCIziiUtZxEOaYvPDMa86ncOpp6EG5azRE\",\n    // authDomain: \"alvin-db-project.firebaseapp.com\",\n    // projectId: \"alvin-db-project\",\n    // storageBucket: \"alvin-db-project.appspot.com\",\n    // messagingSenderId: \"976887684661\",\n    // appId: \"1:976887684661:web:9dd0531254d66e33901b7c\",\n    // measurementId: \"G-WMF6X6TV4M\"\n\n    apiKey: \"AIzaSyDSINGmBE3TuhB-k77SxKpzS1J6CgqpAaQ\",\n    authDomain: \"assessment-app-3.firebaseapp.com\",\n    databaseURL: \"https://assessment-app-3-default-rtdb.firebaseio.com\",\n    projectId: \"assessment-app-3\",\n    storageBucket: \"assessment-app-3.appspot.com\",\n    messagingSenderId: \"96766123206\",\n    appId: \"1:96766123206:web:1f1a0d5810da962c7ecbc7\"\n};\n\nexport default firebaseConfig;\n","import React, { useState, useEffect } from 'react';\nimport './Signup.css';\nimport { useFirebaseApp, useFirestore } from 'reactfire';\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\nimport {\n    Typography,\n    TextField,\n    Grid,\n    Button,\n    Snackbar\n} from \"@material-ui/core\";\nimport PetsIcon from '@material-ui/icons/Pets';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Signup(prop) {\n    // User State\n    const [user, setUser] = useState({\n        nickname: '',\n        email: '',\n        password: '',\n        photoUrl: '',\n        error: false,\n    });\n    const handleChange = e => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n            error: false,\n        })\n    };\n    const { classes } = prop;\n    // Import firebase\n    const firebase = useFirebaseApp();\n    const firestore = useFirestore();\n    const userCollection = firestore.collection('users');\n    \n    console.log(window.location.hostname);\n    function Alert(props) {\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n    }\n\n    const fetchDogImage = () => {\n        axios.get('https://random.dog/woof.json').then(res => {\n            // Validate URL if its image\n            while(validateDogImage(res.data.url)) {\n                fetchDogImage()\n            }\n            user.photoUrl = res.data.url;\n        }).then(() => {\n            // console.log(user);\n        });\n    }\n\n    const validateDogImage = (dogImage) => {\n        let ret = true;\n        if(dogImage) {\n            const ext = dogImage.split(\".\");\n            const allowedExt = [\"png\", \"jpg\", \"jpeg\", \"PNG\", \"JPG\", \"JPEG\", \"GIF\", \"gif\"];\n            const found = allowedExt.find(element => (element === ext[1]));\n\n            if(found) {\n                ret = false;\n            }\n            else {\n                ret = true;\n            }\n        }\n        return ret;\n    }\n    useEffect(fetchDogImage, []);\n    \n    // Submit function (Create account)\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        \n        try {\n            const userData = await firebase.auth().createUserWithEmailAndPassword(user.email, user.password);\n            userData.user.updateProfile({\n                displayName: user.nickname,\n                photoURL: user.photoUrl\n            });\n            const uid = uuidv4();\n            const myURL = { url: window.location.hostname };\n            await userData.user.sendEmailVerification(myURL);\n            setUser({\n                ...user,\n                verifyEmail: `Welcome ${user.nickname}. To continue please verify your email.`,\n            });\n            userCollection.doc(uid).set({\n                uid: userData.user.uid,\n                displayName: userData.user.displayName,\n                email: userData.user.email,\n                photoURL: userData.user.photoURL\n            })\n\n        } catch(error) {\n            console.log(\"Error : \", error);\n            setUser({\n                ...user,\n                error: error.message,\n            });\n        }\n        return <Redirect to=\"/verify\" />\n    }\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n          return;\n        }\n    \n        setUser({\n            ...user,\n            error: false,\n        })\n    };\n    return (\n        \n        <>\n            <Typography variant=\"h3\" color=\"inherit\">SIGN UP</Typography>\n            <form onSubmit={handleSubmit}>\n                <Snackbar open={user.error} autoHideDuration={6000} onClose={handleClose}>\n                    <Alert onClose={handleClose} severity=\"error\">\n                        <b>WOOF!</b> {user.error}\n                    </Alert>\n                </Snackbar>\n                <Grid container>\n                    <Grid item xs={12}>\n                        <TextField \n                            onChange={handleChange} \n                            name=\"nickname\" \n                            placeholder={'Nickname'} \n                            label=\"Nickname\" \n                            variant=\"outlined\"\n                            size=\"small\"\n                            className={classes.fullWidthInput}\n                            value={user.nickname}\n                        />\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <TextField \n                            onChange={handleChange} \n                            name=\"email\" \n                            placeholder={'Email'} \n                            label=\"Email\" \n                            variant=\"outlined\"\n                            size=\"small\"\n                            className={classes.fullWidthInput}\n                            value={user.email}\n                        />\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <TextField \n                            onChange={handleChange} \n                            name=\"password\" \n                            placeholder={'Password'} \n                            label=\"Password\" \n                            variant=\"outlined\"\n                            size=\"small\"\n                            className={classes.fullWidthInput}\n                            value={user.password}\n                            type=\"password\"\n                        />\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\"><PetsIcon/> Sign Up</Button>\n                    </Grid>\n                    <hr/>\n                    <Grid item xs={12}>\n                        <Typography variant=\"overline\" display=\"block\">Already have an account?</Typography>\n                    </Grid>\n                    <hr/>\n                    <Grid item xs={12}>\n                        <Button href=\"/login\" variant=\"contained\"><VpnKeyIcon /> Login</Button>\n                    </Grid>\n                </Grid>\n                \n            </form>\n            {/* {user.error && <h4>{user.error}</h4>} */}\n        </>\n    )\n};\n","import React, { useState } from 'react';\nimport { useFirebaseApp, } from 'reactfire';\nimport 'firebase/auth'\nimport './Signup.css';\nimport {\n    Typography,\n    TextField,\n    Grid,\n    Button,\n    Snackbar\n} from \"@material-ui/core\";\nimport PetsIcon from '@material-ui/icons/Pets';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { Redirect } from 'react-router-dom';\n\n//TODO convert this to a functional component to use firebase hooks\nconst Login = (prop) => {\n    const firebase = useFirebaseApp();\n    \n    const [user, setUser] = useState({\n        email: '',\n        password: '',\n        error: false\n    });\n    const { classes } = prop;\n    const handleChange = e => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n            error: false,\n        })\n    };\n    function Alert(props) {\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        \n        firebase.auth().signInWithEmailAndPassword(user.email, user.password)\n            .then(result => {\n                if (!result.user.emailVerified) {\n                    setUser({\n                        ...user,\n                        error: 'Please verify your email before to continue',\n                    })\n                    // firebase.auth().signOut();\n                }\n                return <Redirect to=\"/\" />\n            })\n            .catch(error => {\n                // Update the error\n                setUser({\n                    ...user,\n                    error: error.message,\n                })\n            })\n    }\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n          return;\n        }\n    \n        setUser({\n            ...user,\n            error: false,\n        })\n      };\n\n    return (\n        <>\n            <Typography variant=\"h3\" color=\"inherit\">LOG IN</Typography>\n            <form\n                onSubmit={handleSubmit}\n            >\n                {/* {user.error && <h4>{user.error}</h4>} */}\n                <Snackbar open={ user.error } autoHideDuration={6000} onClose={handleClose}>\n                    <Alert onClose={handleClose} severity=\"error\">\n                        <b>WOOF!</b> {user.error}\n                    </Alert>\n                </Snackbar>\n                <Grid container>\n                    <Grid item xs={12}>\n                        <TextField \n                            onChange={handleChange} \n                            name=\"email\" \n                            placeholder={'Email'} \n                            label=\"Email\" \n                            variant=\"outlined\"\n                            size=\"small\"\n                            className={classes.fullWidthInput}\n                            value={user.email}\n                        />\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <TextField \n                            onChange={handleChange} \n                            name=\"password\" \n                            placeholder={'Password'} \n                            label=\"Password\" \n                            variant=\"outlined\"\n                            size=\"small\"\n                            className={classes.fullWidthInput}\n                            value={user.password}\n                            type=\"password\"\n                        />\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\"><VpnKeyIcon/> Login</Button>\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <Typography variant=\"overline\" display=\"block\">Don't have an account?</Typography>\n                    </Grid>\n                    <hr />\n                    <Grid item xs={12}>\n                        <Button href=\"/signup\" variant=\"contained\"><PetsIcon /> Sign up</Button>\n                    </Grid>\n                </Grid>\n            </form>\n            \n        </>\n    )\n};\n\nexport default Login;\n","import React from 'react';\nimport { useFirebaseApp } from 'reactfire';\nimport 'firebase/auth'\nimport { IconButton } from \"@material-ui/core\";\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { Redirect } from 'react-router-dom';\n\nconst Logout = () => {\n    // Import firebase\n    const firebase = useFirebaseApp();\n\n    // Log out function\n    const handleClick = () => {\n        firebase.auth().signOut();\n        return <Redirect to='login' />\n    }\n\n    return (\n        <IconButton aria-label=\"logout\" color=\"primary\" onClick={handleClick}>\n            <ExitToAppIcon />\n        </IconButton>\n    )\n};\n\nexport default Logout;\n","import React from 'react';\nimport { useUser } from 'reactfire';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      maxWidth: '36ch',\n      backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n      display: 'inline',\n    },\n}));\n\nconst Messagebox = (data) => {\n    const currentUser = useUser();\n    const {items, users} = data;\n    const classes = useStyles();\n\n    const findUser = (item) => {\n        // item.uid\n        return _.findLast(users, user => {\n            return item.uid === user.uid;\n        });\n    }\n\n    const plotLists = () => {\n        // items.\n     \n        return (\n            <List>\n                {items.map((item, index) => {\n                    let i = 0;\n                    const user = findUser(item);\n                    const createdAt = moment(item.createdAt.toDate().toISOString()).format('MM/DD/YY hh:mm');\n                    return (\n                        <div >\n                        <ListItem alignItems=\"flex-start\" key={i++} button  selected={(currentUser.uid === user.uid) ? true : false}>\n                            <ListItemAvatar>\n                            <Avatar alt=\"Remy Sharp\" src={user.photoURL}/>\n                            </ListItemAvatar>\n                            <ListItemText\n                            primary={item.message}\n                            secondary={\n                                <React.Fragment>\n                                    <Typography\n                                        component=\"span\"\n                                        variant=\"body2\"\n                                        className={classes.inline}\n                                        color=\"textPrimary\"\n                                    >\n                                        {user.displayName}\n                                    </Typography> - <small>{createdAt}</small>\n                                </React.Fragment>\n                            }\n                            />\n                        </ListItem>\n                        <Divider variant=\"inset\" component=\"li\" />\n                        </div>\n                    );\n                })}\n            </List>\n        )\n    }\n \n    return plotLists()\n};\n\nexport default Messagebox;","import React, { useEffect, useState } from \"react\";\nimport 'firebase/auth'\n//HINT https://github.com/FirebaseExtended/reactfire\nimport { useUser, useFirestoreCollectionData, useFirestore } from 'reactfire';\nimport Logout from './Logout';\nimport firebase from 'firebase';\nimport { v4 as uuidv4 } from 'uuid';\nimport PetsIcon from '@material-ui/icons/Pets';\n//HINT\n// import { BrowserRouter as Router, Switch, Route, Link, useParams, useHistory } from 'react-router-dom';\nimport {\n    TextField,\n    IconButton,\n    Grid,\n    Avatar,\n    Card,\n    CardHeader,\n    CardContent\n} from \"@material-ui/core\";\n\nimport Messagebox from './chat/Messagebox';\n// import Headbar from '../templates/Headbar';\nimport _ from 'lodash';\n\n\n\nexport default function Chat(props) {\n    \n    // TODO: Display messages from chat and submit messages\n    const user = useUser();\n    const [mData, setMessageData] = useState(\"\");\n\n    const firestore = useFirestore();\n\n    \n    const messagesCollection = firestore.collection('messages');\n    const usersCollection = firestore.collection('users');\n\n    const messages = _.sortBy(useFirestoreCollectionData(messagesCollection), 'createdAt');\n    const users = useFirestoreCollectionData(usersCollection);\n\n    const { classes } = props;\n\n    useEffect(() => {\n        scrollToBottom()\n    })\n    const scrollToBottom = () => {\n        const chatbox = document.getElementById('chatBoxContainer');\n        chatbox.scrollTo(0, chatbox.scrollHeight);\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(mData);\n        if(mData !== '') {\n            \n            messagesCollection.doc(uuidv4()).set({\n                uid: user.uid,\n                message: mData,\n                createdAt: firebase.firestore.Timestamp.now()\n            })\n            setMessageData(\"\")\n            scrollToBottom()\n        }\n    }\n    return (\n        <div className={classes.container}>\n            <Card >\n                <CardHeader\n                    avatar={\n                        <Avatar alt={user.displayName} src={user.photoURL} />\n                    }\n                    action={\n                        <Logout />\n                      }\n                    title={'Welcome ' + user.displayName}\n                    subheader={user.email}\n                ></CardHeader>\n                <CardContent className={classes.chatbox} id=\"chatBoxContainer\">\n                    <Messagebox items={messages} users={users}/>\n                </CardContent>\n            </Card>\n           <form onSubmit={handleSubmit}>\n            <Grid \n                container \n                spacing={1}\n                alignItems=\"flex-end\"\n            >\n                <Grid item xs={11} >\n                    <TextField \n                        onChange={(e) => setMessageData(e.target.value)} \n                        name=\"message\" \n                        placeholder={'Enter Message'} \n                        value={mData}\n                        label=\"Message\" \n                        variant=\"outlined\"\n                        size=\"small\"\n                        className={classes.fullWidthInput}\n                    />\n                </Grid>\n                <Grid item xs={1}>\n                    <IconButton aria-label=\"delete\" color=\"primary\" type={\"submit\"}>\n                        <PetsIcon />\n                    </IconButton>\n                </Grid>\n            </Grid>\n            </form>\n        </div>\n    )\n\n}\n","import React from 'react';\nimport { useUser } from 'reactfire';\nimport Logout from '../auth/Logout';\n\nconst Verify = () => {\n    const user = useUser();\n\n    return (\n       <>\n        Please Verify your Account, we sent an email to {user.email}\n        <Logout />\n       </>\n    )\n};\n\nexport default Verify;","import {\n    AppBar,\n    Toolbar,\n    IconButton,\n    Typography\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport PetsIcon from '@material-ui/icons/Pets';\n\nexport default function Chat() {\n    return(\n    <>\n        <AppBar position=\"static\">\n            <Toolbar variant=\"dense\">\n                <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n                    <PetsIcon />\n                </IconButton>\n                <Typography variant=\"h6\" color=\"inherit\">\n                WOOF STATION\n                </Typography>\n            </Toolbar>\n        </AppBar>\n        <br />\n    </>\n    )\n}","import React from 'react';\nimport Signup from './components/nonauth/Signup';\nimport Login from './components/nonauth/Login';\nimport Chat from './components/auth/Chat';\nimport Logout from './components/auth/Logout';\nimport Verify from './components/auth/Verify'; \nimport { useUser } from 'reactfire';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Headbar from './components/templates/Headbar';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      maxWidth: '36ch',\n      backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n      display: 'inline',\n    },\n    container: {\n        maxWidth: '500px', \n        margin: '0px auto'\n    },\n    chatbox: {\n        maxHeight: '400px;',\n        overflowY: 'scroll'\n    },\n    fullWidthInput: {\n        width: '100%'\n    }\n}));\n// \n\n//TODO: Add stats dashboard\nfunction App() {\n  const user = useUser();\n  const classes = useStyles();\n  return (\n      <div className=\"App\">\n        <div className={classes.container}>\n          <Headbar />\n          <Router>\n            <Switch>\n              <Route exact path='/'>\n                {user ? \n                  (\n                    (!user.emailVerified) ? \n                      (\n                        <Redirect to=\"/verify\" />\n                      ) :\n                      (\n                        <Chat classes={classes}/>\n                      )\n                  ) : (\n                <>\n                  <Redirect to=\"login\" />\n                </>\n                )}\n              </Route>\n              <Route exact path='/signup'>\n                {user ? (\n                  <Redirect to=\"/\" />\n                ) : (\n                  <Signup classes={classes}/>\n                )}\n              </Route>\n              <Route exact path='/verify'>\n                {user ? (\n                 <Verify classes={classes}/>\n                ) : (\n                <>\n                  <Redirect to=\"login\" />\n                </>\n                )}\n              </Route>\n              <Route exact path='/logout'>\n                <Logout  classes={classes}/>\n              </Route>\n                \n              <Route path='/login'>\n                {user ? (\n                  <Redirect to=\"/\" />\n                ) : (\n                  <Login  classes={classes}/>\n                )}\n              </Route>\n              {/* <Route path='/chat'>\n                <Chat />\n              </Route> */}\n            </Switch>\n          </Router>\n        </div>\n        \n        {/* {\n          user && (\n              <>\n              \n                { (user.emailVerified ? (\n                  <Chat/>\n                ) : \n                <>\n                    <Verify/>\n                    <Logout />\n                  </>\n                ) \n                }\n              </>\n            )\n        }\n        {\n          !user &&\n          <>\n            <Signup />\n            <Login />\n          </>\n        } */}\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { FirebaseAppProvider, SuspenseWithPerf } from 'reactfire';\nimport firebaseConfig from './config/firebaseConfig';\nimport App from './App';\nimport './index.css';\nimport {\n    Typography,\n    Box\n} from \"@material-ui/core\";\n\nReactDOM.render(\n    <FirebaseAppProvider firebaseConfig={firebaseConfig}>\n        <SuspenseWithPerf fallback={\n            <Box  textAlign=\"center\" pt={20}>\n                <Typography variant=\"subtitle1\">\n                    Sniffing...<br />\n                    Identifying hooman...<br />\n                    Please wait..<br />\n                </Typography>\n            </Box>\n        }>\n            <React.StrictMode>\n                <App />\n            </React.StrictMode>\n        </SuspenseWithPerf>\n    </FirebaseAppProvider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}