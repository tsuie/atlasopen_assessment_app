{"version":3,"sources":["firebaseConfig.js","index.js","Logout.js","App.js","Signup.js","Login.js","Chat.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","fallback","StrictMode","App","document","getElementById","Logout","firebase","useFirebaseApp","item","md","variant","onClick","auth","signOut","global","btoa","encode","atob","decode","user","useUser","className","Signup","useState","nickname","email","password","photoUrl","error","setUser","handleChange","e","target","name","value","handleSubmit","a","preventDefault","axios","get","then","result","console","log","data","url","createUserWithEmailAndPassword","updateProfile","displayName","photoURL","sendEmailVerification","verifyEmail","catch","message","onSubmit","type","placeholder","onChange","Login","signInWithEmailAndPassword","emailVerified","Chat","firestore","useFirestore","messagesCollection","collection","userCollection","msgs","useFirestoreCollectionData","usrs","component","container","justify","alignItems","spacing","lg","alt","src","aria-label","color"],"mappings":"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","file":"static/js/main.7d6b159a.chunk.js","sourcesContent":["var firebaseConfig = {\n    //TODO Replace with own config file\n    apiKey: \"AIzaSyDSINGmBE3TuhB-k77SxKpzS1J6CgqpAaQ\",\n    authDomain: \"assessment-app-3.firebaseapp.com\",\n    databaseURL: \"https://assessment-app-3-default-rtdb.firebaseio.com\",\n    projectId: \"aassessment-app-3\",\n    storageBucket: \"assessment-app-3.appspot.com\",\n    messagingSenderId: \"96766123206\",\n    appId: \"1:96766123206:web:1f1a0d5810da962c7ecbc7\"\n};\n\nexport default firebaseConfig;\n","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport { FirebaseAppProvider, SuspenseWithPerf } from 'reactfire';\nimport firebaseConfig from './firebaseConfig';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n    <FirebaseAppProvider firebaseConfig={firebaseConfig}>\n        <Suspense fallback={<h3>Loading...</h3>}>\n            <React.StrictMode>\n                <App />\n            </React.StrictMode>\n        </Suspense>\n    </FirebaseAppProvider>,\n    document.getElementById('root')\n);\n","import React from 'react';\nimport { useFirebaseApp } from 'reactfire';\nimport 'firebase/auth'\nimport { Button, Grid } from \"@material-ui/core\";\n\nconst Logout = () => {\n    // Import firebase\n    const firebase = useFirebaseApp();\n\n    // Log out function\n    const handleClick = () => {\n        firebase.auth().signOut();\n    }\n\n    return (\n        <Grid item={true} md={12}>\n            <Button variant=\"contained\" onClick={handleClick}>Log Out</Button>\n        </Grid>\n    )\n};\n\nexport default Logout;\n","import React from 'react';\nimport Signup from './Signup';\nimport Login from './Login';\nimport Chat from './Chat';\nimport Logout from './Logout';\nimport { useUser } from 'reactfire';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from 'react-router-dom';\nimport {decode, encode} from'base-64'; \nif (!global.btoa) {   \n  global.btoa = encode; \n} \nif (!global.atob) {   \n  global.atob = decode; \n}\n//TODO: Add stats dashboard\nfunction App() {\n  const user = useUser();\n  return (\n      <div className=\"App\">\n        {\n          user &&\n              <>\n              <Router>\n                  <Chat/>\n              </Router>\n              </>\n        }\n        {\n          !user &&\n          <>\n            <Signup />\n            <Login />\n          </>\n        }\n      </div>\n  );\n}\n\nexport default App;\n","import React, { useState } from 'react';\nimport './Signup.css';\nimport { useFirebaseApp } from 'reactfire';\nimport axios from 'axios';\n\n\nconst Signup = () => {\n    // User State\n    const [user, setUser] = useState({\n        nickname: '',\n        email: '',\n        password: '',\n        photoUrl: '',\n        error: '',\n    });\n\n    // onChange function\n    const handleChange = e => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n            error: '',\n        })\n    };\n    \n    // Import firebase\n    const firebase = useFirebaseApp();\n   \n    \n    // Submit function (Create account)\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        // Sign up code here.\n        axios.get('http://random.dog/woof.json').then(result => {\n            console.log(result.data)\n            user.photoUrl = result.data.url;\n        });\n        await firebase.auth().createUserWithEmailAndPassword(user.email, user.password)\n            .then(result => {\n                \n                // Update the nickname\n                result.user.updateProfile({\n                    displayName: user.nickname,\n                    photoURL: user.photoUrl\n                })\n\n                const myURL = { url: 'http://localhost:3000/' }\n\n                // Send Email Verification and redirect to my website.\n                result.user.sendEmailVerification(myURL)\n                    .then(() => {\n                        setUser({\n                            ...user,\n                            verifyEmail: `Welcome ${user.nickname}. To continue please verify your email.`,\n                        })\n                    })\n                    .catch(error => {\n                        setUser({\n                            ...user,\n                            error: error.message,\n                        })\n                    })\n\n                // Sign Out the user.\n                firebase.auth().signOut();\n            }).catch(error => {\n                // Update the error\n                setUser({\n                    ...user,\n                    error: error.message,\n                })\n            })\n    }\n    return (\n        \n        <>\n            <h1>Sign up</h1>\n            <form onSubmit={handleSubmit}>\n                <input type=\"text\" placeholder=\"Nickname\" name=\"nickname\" onChange={handleChange}/><br />\n                <input type=\"text\" placeholder=\"Email\" name=\"email\" onChange={handleChange}/><br />\n                <input type=\"password\" placeholder=\"Password\" name=\"password\" onChange={handleChange}/><br />\n                <button type=\"submit\">Sign Up</button>\n            </form>\n            {user.error && <h4>{user.error}</h4>}\n        </>\n    )\n};\n\nexport default Signup;\n","import React, { useState, Component } from 'react';\nimport { useFirebaseApp, } from 'reactfire';\nimport 'firebase/auth'\nimport './Signup.css';\n\n\n//TODO convert this to a functional component to use firebase hooks\nconst Login = () => {\n    const firebase = useFirebaseApp();\n    const [user, setUser] = useState({\n        email: '',\n        password: '',\n        error: ''\n    });\n    \n    const handleChange = e => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n            error: '',\n        })\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        firebase.auth().signInWithEmailAndPassword(user.email, user.password)\n            .then(result => {\n                if (!result.user.emailVerified) {\n                    setUser({\n                        ...user,\n                        error: 'Please verify your email before to continue',\n                    })\n                    firebase.auth().signOut();\n                }\n            })\n            .catch(error => {\n                // Update the error\n                setUser({\n                    ...user,\n                    error: error.message,\n                })\n            })\n    }\n\n    return (\n        <>\n            <h1>Log In</h1>\n            <form\n                onSubmit={handleSubmit}\n            >\n                <input type=\"text\" placeholder=\"Email\" name=\"email\" onChange={handleChange}/><br />\n                <input type=\"password\" placeholder=\"Password\" name=\"password\" onChange={ handleChange}/><br />\n                <button type=\"submit\">Log in</button>\n            </form>\n            {user.error && <h4>{user.error}</h4>}\n        </>\n    )\n};\n\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\n\n//HINT https://github.com/FirebaseExtended/reactfire\nimport { useUser, useFirestoreCollectionData, useFirestore } from 'reactfire';\nimport Logout from './Logout';\nimport 'firebase/auth'\n\n//HINT\nimport { BrowserRouter as Router, Switch, Route, Link, useParams, useHistory } from 'react-router-dom';\nimport {TextField, IconButton, Grid, Typography, Avatar} from \"@material-ui/core\";\nimport SendIcon from '@material-ui/icons/Send';\n\nexport default function Chat() {\n    \n    // TODO: Display messages from chat and submit messages\n    const firestore = useFirestore();\n    const user = useUser();\n    const messagesCollection = firestore.collection('messages');\n    const userCollection = firestore.collection(\"users\");\n    \n    const msgs = useFirestoreCollectionData(messagesCollection);\n    const usrs = useFirestoreCollectionData(userCollection);\n    console.log('User: ', usrs);\n    console.log('Messages: ', msgs);\n    return (\n        <div>\n            <Typography variant=\"h3\" component=\"h4\">Chat Page</Typography>\n            <Grid\n                container\n                justify=\"center\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n                <Grid item lg={12}>\n                    <Avatar alt={user.displayName} src={user.photoURL} />\n                </Grid>\n                <Grid item lg={12}>\n                    <Typography variant=\"body1\" component=\"h5\">Welcome {user.displayName} </Typography>\n                </Grid>\n            </Grid>\n            <Grid container \n                justify=\"center\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n                <Grid item md={12}>\n                    <TextField onChange={(e) => console.log(e.target.value)} placeholder={'Enter Message'}/>\n                </Grid>\n                <Grid item md={12}>\n                    <IconButton aria-label=\"delete\" color=\"primary\">\n                        <SendIcon />\n                    </IconButton>\n                </Grid>\n            </Grid>\n            <hr />\n            <Logout />\n        </div>\n    )\n\n}\n"],"sourceRoot":""}